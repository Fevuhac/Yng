////////////////////////////////////////
// Activity
// 活动对象
//--------------------------------------
// 如何使用
// var Activity = require('src/buzz/pojo/Activity').Activity;
// var activity = new Activity(id);
// activity.func(obj, params...);
////////////////////////////////////////

//==============================================================================
// import
//==============================================================================

//------------------------------------------------------------------------------
// POJO对象
//------------------------------------------------------------------------------
var Reward = require('./Reward');

//------------------------------------------------------------------------------
// utils
//------------------------------------------------------------------------------
//var StringUtil = require('../utils/StringUtil');

//------------------------------------------------------------------------------
// configs
//------------------------------------------------------------------------------
var item_item_cfg = require('../../../cfgs/item_item_cfg');
var active_cdkey_cfg = require('../../../cfgs/active_cdkey_cfg');


//==============================================================================
// constant
//==============================================================================
var ERROR = 1;
var DEBUG = 0;


//==============================================================================
// public
//==============================================================================

//------------------------------------------------------------------------------
// definition
//------------------------------------------------------------------------------
exports.Activity = Activity;// 活动对象

//------------------------------------------------------------------------------
// implement
//------------------------------------------------------------------------------
//----------------------------------------------------------
// Reward
//----------------------------------------------------------
/**
 * id 活动ID.
 */
function Activity(id) {
    // ---- 储存原始活动ID
    this.id = id;
    
    // ---- 储存解析后的奖励
    this.starttime = '';    // 开始时间
    this.endtime = '';      // 结束时间
    this.repeat = '';       // 可否重复领取
    this.description = '';  // 描述
    this.reward = {};       // 奖励
    
    // ---- 解析活动
    for (var i in active_cdkey_cfg) {
        var activity = active_cdkey_cfg[i];
        if (activity.id == this.id) {
            this.starttime = activity.starttime;
            this.endtime = activity.endtime;
            this.repeat = activity.repeat;
            this.description = activity.description;
            this.reward = new Reward(activity.reward);
            break;
        }
    }
}